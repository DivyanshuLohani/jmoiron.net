{% extends "admin/summary.html" %}

{# macros #}
{%- macro table_header() -%}
    <tr>
      <th><span class="label label-important">x</span></th>
      <th>#</th>
      <th>title</th>
      <th>date</th>
      <th># comments</th>
    </tr>
{%- endmacro -%}

{%- macro table_body(posts) -%}
  {% for post in posts %}
    <tr>
      <td><input type="checkbox" name="{{ post.id }}"></td>
      <td><a href="{{ url_for("blog.detail", slug=post.slug) }}">{{ post.id }}</a></td>
      <td><a href="{{ url_for("admin.edit", manager="blog", module="post", id=post.id) }}">{{ post.title }}</a></td>
      <td>{{ post.timestamp|pdt }}</td>
      <td>{{ post.comments|length }}</td>
    </tr>
  {% endfor %}
{%- endmacro -%}

{% block table_header %}
  {{ table_header() }}
{% endblock %}

{% block table_body %}
  {{ table_body(posts) }}
{% endblock %}

